<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Commentary Ratings</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body style="margin:0;padding:0;background:linear-gradient(135deg, #0a0a14 0%, #1a1a2e 100%);min-height:100vh;">
    <div style="max-width:1400px;margin:0 auto;padding:40px 20px;">
        <div style="text-align:center;margin-bottom:40px;">
            <h1 style="font-family:'Bebas Neue',sans-serif;font-size:64px;margin:0;background:linear-gradient(135deg,#FFD700 0%,#FFA500 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:4px;">LIVE COMMENTARY RATINGS</h1>
            <p style="font-family:'Rajdhani',sans-serif;font-size:18px;color:rgba(255,215,0,0.8);font-weight:600;letter-spacing:2px;text-transform:uppercase;">Real-Time Subscriber Sentiment Analysis</p>
        </div>
        
        <div style="background:rgba(20,20,35,0.7);border-radius:16px;padding:24px;margin-bottom:30px;border:2px solid rgba(255,215,0,0.2);display:flex;flex-wrap:wrap;gap:16px;justify-content:space-between;">
            <div style="display:flex;gap:12px;">
                <button id="playBtn" style="background:linear-gradient(135deg,#00FF88 0%,#00CC66 100%);color:#0a0a14;border:none;padding:12px 28px;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;">▶ PLAY</button>
                <button id="resetBtn" style="background:linear-gradient(135deg,#666 0%,#444 100%);color:#fff;border:none;padding:12px 28px;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;">⟲ RESET</button>
                <button id="showAllBtn" style="background:linear-gradient(135deg,#FFD700 0%,#FFA500 100%);color:#0a0a14;border:none;padding:12px 28px;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;">⚡ SHOW ALL</button>
            </div>
            <div style="display:flex;gap:12px;align-items:center;">
                <label style="color:#FFD700;font-family:'Rajdhani',sans-serif;font-weight:600;">Speed:</label>
                <select id="speedSelect" style="background:rgba(255,215,0,0.1);color:#FFD700;border:2px solid rgba(255,215,0,0.3);padding:8px 16px;border-radius:6px;font-family:'Rajdhani',sans-serif;cursor:pointer;">
                    <option value="750">Slow</option>
                    <option value="375">Normal</option>
                    <option value="188">Fast</option>
                    <option value="75">Very Fast</option>
                </select>
            </div>
        </div>
        
        <div id="stats" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px;"></div>
        
        <div style="background:rgba(20,20,35,0.7);border-radius:16px;padding:32px 24px;border:2px solid rgba(255,215,0,0.2);height:600px;position:relative;">
            <canvas id="chart"></canvas>
            <div id="live" style="position:absolute;top:48px;right:48px;display:none;align-items:center;gap:8px;background:rgba(255,68,68,0.2);padding:8px 16px;border-radius:20px;border:2px solid #FF4444;">
                <div style="width:10px;height:10px;border-radius:50%;background:#FF4444;"></div>
                <span style="color:#FF4444;font-weight:700;font-family:'Rajdhani',sans-serif;">LIVE</span>
            </div>
        </div>
        
        <div style="margin-top:30px;text-align:center;color:rgba(255,215,0,0.5);font-family:'Rajdhani',sans-serif;">
            <p>Progress: <span id="progress">1 / 17</span></p>
        </div>
    </div>

    <script>
const data=[{time:0,BT:0,Pav:0,Presti:0},{time:5,BT:-5,Pav:4,Presti:9},{time:10,BT:-6,Pav:5,Presti:8},{time:15,BT:-7,Pav:6,Presti:6},{time:20,BT:-2,Pav:6,Presti:7},{time:25,BT:1,Pav:7,Presti:8},{time:30,BT:3,Pav:8,Presti:9},{time:35,BT:4,Pav:9,Presti:8},{time:40,BT:5,Pav:7,Presti:9},{time:45,BT:8,Pav:6,Presti:7},{time:50,BT:3,Pav:5,Presti:8},{time:55,BT:1,Pav:3,Presti:9},{time:60,BT:-3,Pav:3,Presti:9},{time:65,BT:-7,Pav:4,Presti:8},{time:70,BT:-8,Pav:5,Presti:9},{time:75,BT:-9,Pav:6,Presti:8},{time:80,BT:-9,Pav:7,Presti:9}];
let disp=[data[0]],idx=1,playing=false,spd=750,timer,chart;
const ctx=document.getElementById('chart').getContext('2d');
chart=new Chart(ctx,{type:'line',data:{labels:[0],datasets:[{label:'BT',data:[0],borderColor:'#00D9FF',borderWidth:3,tension:0.4,pointRadius:5},{label:'Pav',data:[0],borderColor:'#00FF88',borderWidth:3,tension:0.4,pointRadius:5},{label:'Presti',data:[0],borderColor:'#FFD700',borderWidth:3,tension:0.4,pointRadius:5}]},options:{responsive:true,maintainAspectRatio:false,animation:{duration:0},scales:{x:{type:'linear',min:0,max:80,ticks:{stepSize:20,color:'rgba(255,215,0,0.8)',callback:v=>({0:'0\n(Q1)',20:'20\n(Q2)',40:'40\n(HT)',60:'60\n(Q4)',80:'80\n(FT)'}[v]||v)}},y:{min:-10,max:10,ticks:{color:'rgba(255,215,0,0.8)'}}},plugins:{legend:{labels:{color:'#FFD700'}}}}});
function upd(){chart.data.labels=disp.map(d=>d.time);chart.data.datasets[0].data=disp.map(d=>d.BT);chart.data.datasets[1].data=disp.map(d=>d.Pav);chart.data.datasets[2].data=disp.map(d=>d.Presti);chart.update('none');const l=disp[disp.length-1];const avg=n=>(disp.reduce((a,d)=>a+d[n],0)/disp.length).toFixed(1);document.getElementById('stats').innerHTML=[{n:'BT',c:'#00D9FF',v:l.BT,a:avg('BT')},{n:'Pav',c:'#00FF88',v:l.Pav,a:avg('Pav')},{n:'Presti',c:'#FFD700',v:l.Presti,a:avg('Presti')}].map(s=>`<div style="background:rgba(20,20,35,0.7);border-radius:12px;padding:24px;border:2px solid ${s.c}40;"><div style="font-family:'Bebas Neue',sans-serif;font-size:28px;color:${s.c};margin-bottom:12px;">${s.n}</div><div style="display:flex;justify-content:space-between;"><div><div style="font-size:12px;color:rgba(255,255,255,0.5);">Current</div><div style="font-family:'Bebas Neue',sans-serif;font-size:48px;color:${s.v>=0?'#00FF88':'#FF4444'};line-height:1;">${s.v>0?'+':''}${s.v}</div></div><div style="text-align:right;"><div style="font-size:12px;color:rgba(255,255,255,0.5);">Average</div><div style="font-size:28px;color:${s.c};font-weight:700;">${s.a>0?'+':''}${s.a}</div></div></div></div>`).join('');document.getElementById('progress').textContent=idx+' / '+data.length;}
function play(){if(idx>=data.length){stop();return;}const t=data[idx]?.time;const p=t===20||t===40||t===60?300:0;timer=setTimeout(()=>{disp.push(data[idx]);idx++;upd();if(idx<data.length&&playing)play();else if(idx>=data.length)stop();},spd+p);}
function stop(){playing=false;if(timer){clearTimeout(timer);timer=null;}document.getElementById('playBtn').textContent=idx>=data.length?'↻ REPLAY':'▶ PLAY';document.getElementById('playBtn').style.background=idx>=data.length?'linear-gradient(135deg,#00FF88 0%,#00CC66 100%)':'linear-gradient(135deg,#00FF88 0%,#00CC66 100%)';document.getElementById('live').style.display='none';}
function start(){playing=true;document.getElementById('playBtn').textContent='⏸ PAUSE';document.getElementById('playBtn').style.background='linear-gradient(135deg,#FF4444 0%,#CC0000 100%)';document.getElementById('live').style.display='flex';play();}
document.getElementById('playBtn').onclick=()=>{if(idx>=data.length){disp=[data[0]];idx=1;upd();setTimeout(start,100);}else if(playing)stop();else start();};
document.getElementById('resetBtn').onclick=()=>{stop();disp=[data[0]];idx=1;upd();};
document.getElementById('showAllBtn').onclick=()=>{stop();disp=[...data];idx=data.length;upd();};
document.getElementById('speedSelect').onchange=e=>spd=parseInt(e.target.value);
upd();
    </script>
</body>
</html>
